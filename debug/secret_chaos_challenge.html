<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎮 MODO SECRETO: DESAFÍO IMPOSIBLE</title>
    <link rel="stylesheet" href="../src/styles/fallback.css">
    <style>
        body {
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(45deg, #ff0000, #ff6600, #ff0000, #990000);
            background-size: 400% 400%;
            animation: secretBackground 4s ease-in-out infinite;
            color: white;
        }
        
        @keyframes secretBackground {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .secret-container {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            background: rgba(0,0,0,0.8);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #ff6600;
            box-shadow: 0 0 30px rgba(255, 102, 0, 0.5);
        }
        
        .secret-title {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff6600;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes titleGlow {
            from { text-shadow: 0 0 20px #ff6600; }
            to { text-shadow: 0 0 30px #ff0000, 0 0 40px #ff6600; }
        }
        
        .secret-btn {
            background: linear-gradient(45deg, #dc3545, #990000);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            border-radius: 15px;
            cursor: pointer;
            margin: 20px;
            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.4);
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        .secret-btn:hover {
            background: linear-gradient(45deg, #990000, #dc3545);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(220, 53, 69, 0.6);
        }
        
        .warning-box {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff6600;
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            animation: warningPulse 1.5s ease-in-out infinite;
        }
        
        @keyframes warningPulse {
            0%, 100% { border-color: #ff6600; box-shadow: 0 0 10px rgba(255, 102, 0, 0.3); }
            50% { border-color: #ff0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); }
        }
        
        .difficulty-meter {
            background: #333;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .difficulty-bar {
            background: linear-gradient(90deg, #ffff00, #ff6600, #ff0000, #990000, #000000);
            height: 20px;
            border-radius: 10px;
            animation: difficultyFill 3s ease-in-out infinite;
        }
        
        @keyframes difficultyFill {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        /* MODO ULTRA DIFÍCIL SECRETO - La animación más loca */
        .confirm-modal.secret-chaos .confirm-modal-content {
            animation: secretUltraChaos 1.2s linear infinite !important;
            position: fixed !important;
        }
        
        @keyframes secretUltraChaos {
            0% { left: 5%; top: 5%; transform: translate(-50%, -50%) rotate(0deg) scale(0.8) skew(0deg); }
            3% { left: 95%; top: 8%; transform: translate(-50%, -50%) rotate(72deg) scale(1.3) skew(15deg); }
            6% { left: 12%; top: 92%; transform: translate(-50%, -50%) rotate(-108deg) scale(0.5) skew(-30deg); }
            9% { left: 88%; top: 95%; transform: translate(-50%, -50%) rotate(180deg) scale(1.6) skew(45deg); }
            12% { left: 50%; top: 3%; transform: translate(-50%, -50%) rotate(-252deg) scale(0.4) skew(-60deg); }
            15% { left: 3%; top: 50%; transform: translate(-50%, -50%) rotate(324deg) scale(1.8) skew(75deg); }
            18% { left: 97%; top: 47%; transform: translate(-50%, -50%) rotate(-396deg) scale(0.3) skew(-90deg); }
            21% { left: 28%; top: 97%; transform: translate(-50%, -50%) rotate(468deg) scale(2.0) skew(105deg); }
            24% { left: 72%; top: 2%; transform: translate(-50%, -50%) rotate(-540deg) scale(0.2) skew(-120deg); }
            27% { left: 38%; top: 78%; transform: translate(-50%, -50%) rotate(612deg) scale(1.9) skew(135deg); }
            30% { left: 62%; top: 22%; transform: translate(-50%, -50%) rotate(-684deg) scale(0.1) skew(-150deg); }
            33% { left: 18%; top: 68%; transform: translate(-50%, -50%) rotate(756deg) scale(2.1) skew(165deg); }
            36% { left: 82%; top: 32%; transform: translate(-50%, -50%) rotate(-828deg) scale(0.6) skew(-180deg); }
            39% { left: 48%; top: 88%; transform: translate(-50%, -50%) rotate(900deg) scale(1.7) skew(195deg); }
            42% { left: 52%; top: 12%; transform: translate(-50%, -50%) rotate(-972deg) scale(0.4) skew(-210deg); }
            45% { left: 8%; top: 58%; transform: translate(-50%, -50%) rotate(1044deg) scale(1.5) skew(225deg); }
            48% { left: 92%; top: 42%; transform: translate(-50%, -50%) rotate(-1116deg) scale(0.7) skew(-240deg); }
            51% { left: 35%; top: 85%; transform: translate(-50%, -50%) rotate(1188deg) scale(1.2) skew(255deg); }
            54% { left: 65%; top: 15%; transform: translate(-50%, -50%) rotate(-1260deg) scale(0.9) skew(-270deg); }
            57% { left: 25%; top: 75%; transform: translate(-50%, -50%) rotate(1332deg) scale(1.4) skew(285deg); }
            60% { left: 75%; top: 25%; transform: translate(-50%, -50%) rotate(-1404deg) scale(0.3) skew(-300deg); }
            63% { left: 55%; top: 95%; transform: translate(-50%, -50%) rotate(1476deg) scale(1.8) skew(315deg); }
            66% { left: 45%; top: 5%; transform: translate(-50%, -50%) rotate(-1548deg) scale(0.5) skew(-330deg); }
            69% { left: 15%; top: 45%; transform: translate(-50%, -50%) rotate(1620deg) scale(1.6) skew(345deg); }
            72% { left: 85%; top: 55%; transform: translate(-50%, -50%) rotate(-1692deg) scale(0.2) skew(-360deg); }
            75% { left: 42%; top: 82%; transform: translate(-50%, -50%) rotate(1764deg) scale(2.0) skew(375deg); }
            78% { left: 58%; top: 18%; transform: translate(-50%, -50%) rotate(-1836deg) scale(0.4) skew(-390deg); }
            81% { left: 22%; top: 62%; transform: translate(-50%, -50%) rotate(1908deg) scale(1.3) skew(405deg); }
            84% { left: 78%; top: 38%; transform: translate(-50%, -50%) rotate(-1980deg) scale(0.8) skew(-420deg); }
            87% { left: 68%; top: 88%; transform: translate(-50%, -50%) rotate(2052deg) scale(1.7) skew(435deg); }
            90% { left: 32%; top: 12%; transform: translate(-50%, -50%) rotate(-2124deg) scale(0.1) skew(-450deg); }
            93% { left: 88%; top: 68%; transform: translate(-50%, -50%) rotate(2196deg) scale(1.9) skew(465deg); }
            96% { left: 12%; top: 32%; transform: translate(-50%, -50%) rotate(-2268deg) scale(0.6) skew(-480deg); }
            100% { left: 50%; top: 50%; transform: translate(-50%, -50%) rotate(2340deg) scale(1.0) skew(495deg); }
        }
        
        .achievement-box {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
        }
        
        .achievement-box h4 {
            color: #ffd700;
            margin: 0 0 10px 0;
        }
    </style>
</head>
<body>
    <div class="secret-container">
        <h1 class="secret-title">🎮 MODO SECRETO DESBLOQUEADO 🎮</h1>
        <h2>💀 DESAFÍO IMPOSIBLE: MODAL DEL CAOS 💀</h2>
        
        <div class="warning-box">
            <h3>⚠️ ADVERTENCIA EXTREMA ⚠️</h3>
            <p><strong>Este es el nivel más difícil jamás creado para un modal de confirmación.</strong></p>
            <p>El modal se moverá a velocidad ULTRA CAÓTICA con rotación, escala, distorsión y sonido demoníaco.</p>
            <p><em>Solo los verdaderos maestros pueden completar este desafío.</em></p>
        </div>
        
        <div class="difficulty-meter">
            <h4>📊 MEDIDOR DE DIFICULTAD</h4>
            <div class="difficulty-bar"></div>
            <p style="margin-top: 10px;"><strong>NIVEL: IMPOSIBLE 💀</strong></p>
        </div>
        
        <button class="secret-btn" onclick="activateSecretChaos()">
            🔥 ACTIVAR MODO CAOS SECRETO 🔥
        </button>
        
        <div class="achievement-box">
            <h4>🏆 LOGROS DISPONIBLES:</h4>
            <ul>
                <li>🥉 <strong>Superviviente</strong>: Hacer clic en "Cancelar" (Dificultad: Extrema)</li>
                <li>🥈 <strong>Cazador</strong>: Hacer clic en "Eliminar" (Dificultad: Imposible)</li>
                <li>🥇 <strong>Leyenda</strong>: Completar en menos de 3 intentos (Dificultad: Mítica)</li>
                <li>👑 <strong>Dios del Caos</strong>: Completar al primer intento (Dificultad: ???)</li>
            </ul>
        </div>
        
        <p style="opacity: 0.7; font-style: italic; margin-top: 30px;">
            💡 <strong>Pista secreta:</strong> El modal visita 30 posiciones diferentes en 1.2 segundos,<br>
            rota 2340°, escala de 0.1x a 2.1x, y se distorsiona hasta 495°.<br>
            <em>¿Tienes lo necesario para dominar el caos?</em>
        </p>
    </div>

    <!-- Modal de Confirmación SECRETO -->
    <div id="secretModal" class="modal confirm-modal">
        <div class="confirm-modal-content">
            <div class="modal-header">
                <h3>💀 DESAFÍO DEL CAOS ACTIVADO 💀</h3>
            </div>
            <div class="modal-body">
                <p class="confirm-modal-text">¡El modal se mueve como loco!</p>
                <p><strong id="secret-target-name">🎯 TU MISIÓN: HACER CLIC</strong></p>
                <p><em>¡Buena suerte, lo vas a necesitar!</em></p>
            </div>
            <div class="modal-footer confirm-modal-buttons">
                <button type="button" class="confirm-btn confirm-btn-cancel" onclick="secretWin('Superviviente')">😅 CANCELAR</button>
                <button type="button" class="confirm-btn confirm-btn-delete" onclick="secretWin('Leyenda')">💀 ELIMINAR</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Victoria -->
    <div id="victoryModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 99999; align-items: center; justify-content: center;">
        <div style="background: linear-gradient(45deg, #ffd700, #ffed4e); color: #333; padding: 40px; border-radius: 20px; text-align: center; max-width: 500px; animation: victoryBounce 1s ease-in-out;">
            <h2 id="victoryTitle">🏆 ¡LOGRO DESBLOQUEADO! 🏆</h2>
            <p id="victoryText">¡Eres increíble!</p>
            <button onclick="closeVictory()" style="background: #ff6600; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 16px; cursor: pointer; margin-top: 20px;">🎉 ¡GENIAL!</button>
        </div>
    </div>

    <script>
        let attempts = 0;
        let startTime = 0;
        
        // Crear sonido DEMONÍACO para modo secreto
        function createDemonicSound() {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    // Frecuencias DEMONÍACAS
                    oscillator.type = 'sawtooth';
                    oscillator.frequency.setValueAtTime(666 + (i * 333), audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(111 - (i * 22), audioContext.currentTime + 0.1);
                    oscillator.frequency.setValueAtTime(1666 + (i * 111), audioContext.currentTime + 0.2);
                    oscillator.frequency.setValueAtTime(66 + (i * 13), audioContext.currentTime + 0.3);
                    
                    gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 1);
                }, i * 150);
            }
        }
        
        function activateSecretChaos() {
            const modal = document.getElementById('secretModal');
            modal.style.display = 'flex';
            modal.classList.add('show');
            modal.classList.add('secret-chaos');
            
            attempts = 0;
            startTime = Date.now();
            
            try {
                createDemonicSound();
            } catch (e) {
                console.log('Sonido demoníaco falló:', e);
            }
        }
        
        function secretWin(achievement) {
            attempts++;
            const endTime = Date.now();
            const timeElapsed = (endTime - startTime) / 1000;
            
            const modal = document.getElementById('secretModal');
            modal.style.display = 'none';
            modal.classList.remove('show', 'secret-chaos');
            
            let title = '';
            let message = '';
            
            if (attempts === 1) {
                title = '👑 ¡DIOS DEL CAOS! 👑';
                message = `¡IMPOSIBLE! Lo lograste al primer intento en ${timeElapsed.toFixed(1)} segundos. Eres una leyenda absoluta.`;
            } else if (attempts <= 3) {
                title = `🏆 ¡${achievement.toUpperCase()}! 🏆`;
                message = `¡Increíble! Lo lograste en ${attempts} intentos y ${timeElapsed.toFixed(1)} segundos. ¡Eres un maestro!`;
            } else {
                title = `🥉 ¡${achievement.toUpperCase()}! 🥉`;
                message = `¡Bien hecho! Te tomó ${attempts} intentos, pero lo lograste. El caos ha sido dominado.`;
            }
            
            document.getElementById('victoryTitle').textContent = title;
            document.getElementById('victoryText').textContent = message;
            document.getElementById('victoryModal').style.display = 'flex';
        }
        
        function closeVictory() {
            document.getElementById('victoryModal').style.display = 'none';
        }
        
        // Cerrar modal al hacer clic fuera (más difícil porque se mueve)
        document.getElementById('secretModal').addEventListener('click', function(e) {
            if (e.target === this) {
                // Solo 50% de probabilidad de cerrar para hacer más difícil
                if (Math.random() > 0.5) {
                    attempts++;
                    this.style.display = 'none';
                    this.classList.remove('show', 'secret-chaos');
                }
            }
        });
    </script>
    
    <style>
        @keyframes victoryBounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            60% { transform: translateY(-15px); }
        }
    </style>
</body>
</html>
