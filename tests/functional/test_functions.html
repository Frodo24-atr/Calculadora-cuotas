<!DOCTYPE html>
<html>
<head>
    <title>Test de Funciones</title>
</head>
<body>
    <h1>Test de Funciones de la Calculadora</h1>
    <div id="results"></div>
    
    <script>
        // Abrir la aplicación principal y probar funciones
        setTimeout(() => {
            const iframe = document.createElement('iframe');
            iframe.src = 'index.html';
            iframe.style.width = '100%';
            iframe.style.height = '600px';
            document.body.appendChild(iframe);
            
            iframe.onload = () => {
                setTimeout(() => {
                    const results = document.getElementById('results');
                    const win = iframe.contentWindow;
                    
                    let testResults = [];
                    
                    // Probar funciones principales
                    const functionsToTest = [
                        'getProductos',
                        'agregarProducto',
                        'eliminarProducto',
                        'editarProducto',
                        'confirmarEliminacion',
                        'guardarEdicionModal',
                        'abrirModalConfirmacion',
                        'cerrarConfirmacion',
                        'actualizarGraficoConFiltro',
                        'inicializarControlesRango'
                    ];
                    
                    functionsToTest.forEach(funcName => {
                        if (typeof win[funcName] === 'function') {
                            testResults.push(`✅ ${funcName} - OK`);
                        } else {
                            testResults.push(`❌ ${funcName} - NO ENCONTRADA`);
                        }
                    });
                    
                    results.innerHTML = '<h3>Resultados del Test:</h3>' + 
                                       testResults.map(r => `<p>${r}</p>`).join('');
                }, 2000);
            };
        }, 1000);
    </script>
</body>
</html>
